const apiKey="9197245519c15238a405b6568dd4bfc5";const setBackground=t=>{const e=document.body;e.style.transition="background 1s ease";switch(t.toLowerCase()){case"clear":e.style.background="linear-gradient(to top,#fbc2eb,#a6c1ee)";break;case"clouds":e.style.background="linear-gradient(to top,#bdc3c7,#2c3e50)";break;case"rain":case"drizzle":e.style.background="linear-gradient(to top,#89f7fe,#66a6ff)";break;case"thunderstorm":e.style.background="linear-gradient(to top,#373b44,#4286f4)";break;case"snow":e.style.background="linear-gradient(to top,#e6dada,#274046)";break;case"mist":case"fog":case"haze":e.style.background="linear-gradient(to top,#757f9a,#d7dde8)";break;default:e.style.background="linear-gradient(to top,#4facfe,#00f2fe)"}},getWeather=()=>{const t=document.getElementById("city-input").value.trim(),e=document.getElementById("weather-result"),o=document.getElementById("error-message");if(!t)return o.textContent="Please enter a city name.",e.classList.add("hidden"),document.getElementById("forecast-section").classList.add("hidden"),void 0;fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=${apiKey}&units=metric`).then(t=>t.json()).then(t=>{if(200===t.cod){document.getElementById("city-name").textContent=t.name,document.getElementById("temperature").textContent=`🌡️ Temp: ${t.main.temp} °C`,document.getElementById("description").textContent=`🌥️ ${t.weather[0].description}`,document.getElementById("humidity").textContent=`💧 Humidity: ${t.main.humidity}%`,document.getElementById("wind").textContent=`💨 Wind: ${t.wind.speed} m/s`,document.getElementById("weather-icon").src=`https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png`,e.classList.remove("hidden"),o.textContent="",setBackground(t.weather[0].main),e.style.animation="none",void e.offsetWidth,e.style.animation="fadeIn .8s ease forwards";const n=document.getElementById("weather-icon");n.style.animation="bounce 1s infinite",getForecast(t.name)}else throw new Error(t.message)}).catch(t=>{e.classList.add("hidden"),document.getElementById("forecast-section").classList.add("hidden"),o.textContent="❌ "+t.message,document.body.style.background="linear-gradient(to top,#4facfe,#00f2fe)"});},getForecast=t=>{const e=document.getElementById("forecast-section"),o=document.getElementById("forecast-cards");fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${t}&appid=${apiKey}&units=metric`).then(t=>t.json()).then(t=>{"200"===t.cod&&(o.innerHTML="",t.list.filter(t=>t.dt_txt.includes("12:00:00")).forEach(t=>{const n=document.createElement("div");n.classList.add("forecast-card"),n.innerHTML=`<h3>${new Date(t.dt_txt).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}</h3><img loading="lazy" src="https://openweathermap.org/img/wn/${t.weather[0].icon}@2x.png" alt="${t.weather[0].description}"><p>${t.weather[0].main}</p><p>🌡️ ${t.main.temp.toFixed(1)} °C</p><p>💧 ${t.main.humidity}%</p>`,o.appendChild(n)}),e.classList.remove("hidden"))}).catch(t=>{e.classList.add("hidden"),console.error("Forecast error:",t.message)})};document.getElementById("get-weather-btn").addEventListener("click",getWeather);
